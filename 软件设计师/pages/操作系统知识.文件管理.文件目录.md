filters:: {"索引" false}
title:: 操作系统知识/文件管理/文件目录
alias:: 文件目录

- 为了实现“按名存取”，系统必须为每个文件设置用于描述和控制文件的数据结构，它至少要包括文件名和存放文件的物理地址，这个数据结构称为**文件控制块（FCB）**，文件控制块的有序集合称为**文件目录**。换句话说，文件目录是由文件控制块组成的，专门用于文件的检索。文件控制块也称为文件的说明或文件目录项（简称目录项）。
- ## 文件控制块
	- 文件控制块中包含以下三类信息：
		- > 1. ==基本信息类==。例如，文件名、文件的物理地址、文件长度和文件块数
		  > 2.  ==存取控制信息类==。文件的存取权限，像UNIX用户分成文件主、同组用户和一般用户三类，这三类用户的读写执行（RWX）权限。
		  > 3. ==使用信息类==。文件建立日期、最后一次修改日期、最后一次访问的日期、当前使用的信息（如打开文件的进程数，在文件上的等待上的等待队列）等。
- ## 目录结构
	- 文件目录结构的组织方式直接影响到文件的存取速度，关系到文件的共享性和安全性，因此组织好文件的目录是设计文件系统的重要环节。觉的目录结构有3种：一级目录结构、二级目录结构和多级目录结构。
	- ### 一级目录结构
		- 整个目录组织是一个线性结构，在整个系统中只需建立一张目录表，系统为每个文件分配一个目录项。一级目录结构简单，但缺点是查找速度慢，不允许重名和不便于实现文件共享等，因此它主要用在单用户环境中。
	- ### 二级目录结构
		- 为了克服一级目录结构存在的缺点，引入了二级目录结构。二级目录结构是由主文件目录（Master File Directory，MFD）和用户目录（User File Directory，UFD）组成的。在**主文件目录**中，每个用户文件目录都占有一个目录项，其目录项中包括用户名和指向该用户目录文件的指针。**用户目录**是由用户所有文件的目录项组成的。
		- 二级目录结构基本上克服了单级目录的缺点，其优点是提高了检索目录的速度，较好地解决了重名问题。采用二级结构也存在一些问题。该结构虽然能有效地将多个用户隔离开，这种隔离在各个用户之间完全无关时是一个优点：但当多个用户之间要相互合作去共同完成一个大任务，且一个用户又需去访问其他用户的文件时，这种隔离便成为一个缺点，因为这种隔离使诸用户之间==不便于共享文件==。
	- ### 多级目录结构
		- 在==多道程序设计系统==中常采用多级目录结构，这种目录结构像一棵倒置的有根树，所以也称为**树型目录结构**。从树根向下，每一个节点是一个目录，叶节点是文件。MS-DOS和UNIX等操作系统均采用多级目录结构。
		- 在多级目录结构的文件系统中，用户要访问一个文件，必须指出文件所在的路径名，**路径名**是从根目录开始到该文件的通路上所有各级目录名拼起来得到的。各目录名之间，目录名与文件名之间需要用**分隔符**隔开。例如在MS-DOS中分隔符为“\”，在UNIX中分隔符为“/”。**绝对路径名**（absolute path name）是指从根目录“/”开始的完整文件名，即它是由从根目录开始的所有目录名以及文件名构成的。