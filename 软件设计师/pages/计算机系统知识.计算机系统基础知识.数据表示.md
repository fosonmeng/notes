filters:: {"索引" false, "目录" false}
title:: 计算机系统知识/计算机系统基础知识/数据表示
alias:: 数据表示

- 各种数值在计算机中表示的形式称为机器数，其特点是采用二进制计数制，数的符号用0，1表示，小数点则隐含表示而不点位置。机器数对应的实际数值称为数的**真值**。
- 对于无符号数，若约定小数点的位置在机器数的最低位之后，则是纯整数；若约定小数点的位置在机器数的最高位之前，则是纯小数。对于带符号数，机器数的最高位是表示正、负的符号位，其余位则表示数值。若约定小数点的位置在机器数的最低数值位之后，则是纯整数；若约定小数点的位置在机器数的最高数值位之前（符号位之后），则是纯小数。
- 机器数这些编码方法称为**码制**。（以下n是^^机器字长^^）
- ## 原码、反码、补码和移码
	- ### 原码：
		- 纯整数：
		  $$
		  [X]_{原}= 
		  \begin{cases}
		  X & 0<=X<=2^{n-1}-1 \\
		  2^{n-1}+|X| & -(2^{n-1}-1)<=X<=0
		  \end{cases}
		  $$
		- 纯小数：
		  $$
		  [X]_{原}=
		  \begin{cases}
		  X & 0 <= X < 1 \\
		  2^{0}+|X| & -1 < X <= 0
		  \end{cases}
		  $$
		- ![image.png](../assets/image_1648886764866_0.png)
		- [+0]原=0 0000000，[-0]原 = 1 0000000。
	- ### TODO 反码：
		- 纯整数：
		  $$
		  [X]_{反}=
		  \begin{cases}
		  X & 0 <= X <= 2^{n-1} - 1 \\
		  2^{n} - 1 + X & -(2^{n-1} - 1) <= X <= 0
		  \end{cases}
		  $$
		- 纯小数：
		  $$
		  [X]_{反}=
		  \begin{cases}
		  X & 0 <= X < 1 \\
		  2-2^{-(n-1)} + X & -1 < X <= 0
		  \end{cases}
		  $$
		- ![image.png](../assets/image_1649645545572_0.png)
		- [+0]反=0 0000000，[-0]反=1 1111111
	- ### TODO 补码：
		- 纯整数：
		  $$
		  [X]_{补}=
		  \begin{cases}
		  X & 0<=X<=2^{n-1}-1 \\
		  2^{n} + X & -2^{n-1} <= X <= 0
		  \end{cases}
		  $$
		- 纯小数：
		  $$
		  [X]_{补}=
		  \begin{cases}
		  X & 0<=X<1 \\
		  2+X & -1<=X<0
		  \end{cases}
		  $$
		- ![image.png](../assets/image_1649645853502_0.png)
		- [+0]补=0 0000000，[-0]补=00000000
	- ### TODO 移码：
		- 纯整数：
		  $$
		  [X]_{移}=
		  2^{n-1}+X (-2^{n-1}<=X<2^{n-1})
		  $$
		- 纯小数：
		  $$
		  [X]_{移}=1+X (-1<=X<1)
		  $$
		- ![image.png](../assets/image_1649646071737_0.png)
- ## 定点数和浮点数
	- ### 定点数
		- 小数点的位置固定不变的数。小数点的位置通常有两种约定方式：**定点整数**（纯整数，小数点在最低有效数值位之后）和**定点小数**（纯小数，小数点在最高有效数值位之前）。
		- ![image.png](../assets/image_1649646217166_0.png){:height 176, :width 667}
		- 定点数的补码和移码可表示$$2^{n-1}$$个数，而其原码和反码只能表示$$2^{n-1}-1$$个数（0的表示占用了两个编码）
	- ### 浮点数
		- 一个二进制数也可以写成多种表示形式。例如，二进制数1011.10101可以写成 $$2^4 \times 0.101110101$$、$$2^5 \times 0.0101110101$$ 或 $$2^6 \times 0.00101110101$$ 等。
		  $$
		  N = 2^E \times F
		  $$
		  其中E称为**阶码**，F称为**尾数**。用阶码和尾数表示的数称为浮点数，这种表示数的方法称为浮点表示法。
		- 浮点数所能表示的数值范围主要由阶码决定，所表示数值的精度则由尾数决定。
	- ### TODO 浮点数的表示：
		- 为了充分利用尾数来表示更多的有效数字，通常采用规格化浮点数。==规格化==就是将尾数的绝对值限定在区间`[0.5,1]`。
		- ^^IEEE 754^^：
		  $$
		  (-1)^S2^E(b_{0}b_{1}b_{2}b_{3}...b_{p-1})
		  $$
		  其中，$$(-1)^S$$为该浮点数的**数符**，当S为0时表示正数，S为1时表示负数；E为指数（**阶码**），用移码表示：$$(b_0 b_1 b_2 b_3...b_{p-1})$$为**尾数**，其长度为P位，用原码表示。
		  在IEEE 754标准中，约定小数点左边隐含有一位，通常这位数就是1，因此单精度浮点数尾数的有效位数为24位，即尾数为1.xx...x。
		- ![image.png](../assets/image_1649647156348_0.png){:height 253, :width 667}
		- #### TODO 格式化的值
		- #### TODO 非格式化的值
		- #### TODO 特殊值
	- ### TODO 浮点数的运算
		- 设有浮点数 $$X = M \times 2^j, Y = N \times 2^j$$，求 $$X \pm Y$$的运算过程要经过对阶、求尾数和（差）、结果规格化并判溢出、舍入处理和溢出判别等步骤。
		- > 1. ==对阶==。使两个数的阶码相同。令$$K=\vert i - j \vert$$，把阶码小的数的尾数右移K位，使其阶码加上K。
		  > 2. ==求尾数和（差）==。
		  > 3. ==结果规格化并判溢出==。若运算结果所得的尾数不是规格化的数，则需要进行规格化处理。当尾数溢出时，需要调整阶码。
		  > 4. ==舍入处理==。在对结果右规时，尾数的最低位将因移出而丢掉。另外，在对阶过程中也会将尾数右移使最低位丢掉。这就需要进行舍入处理，以求得最小的运算误差。
		  > 5. ==溢出判别==。以阶码为准，若阶码溢出，则运算结果溢出；若阶码下溢（小于最小值），则结果为0；否则结果正确，无溢出。
		- 浮点数相乘，其积的阶码等于两乘数的阶码相加，积的尾数等于两乘数的尾数相乘。浮点数相除，其商的阶码等于被除数的阶码减去除数的阶码，商的尾数等于被除数的尾数除以除数的尾数。乘除运算的结果都需要进行规格化处理并判断阶码是否溢出。