title:: 软件工程基础知识/系统测试/软件调试
alias:: 软件调试

- 调试发生在测试之后，其任务是根据测试时所发现的错误找出原因和具体的位置，进行改正。调试工作主要由程序开发人员进行，谁开发的程序就由谁来进行调试。
- ## 调试过程
	- 调试并不是测试，且总是发生在测试之后。执行测试用例，对测试结果进行评估，当期望的表现与实际表现不一致时，调试过程就开始了。在很多情况下，这种不一致的数据是隐藏在背后的某种原因所表现出来的症状。调试试图找到隐藏在症状背后的原因，从而使错误得到修正。
	- 调试过程通常得到以下两种结果之一：发现问题的原因并将其改正；未能找到问题的原因。在后一种情况下，调试人员可以假设一个原因，设计一个或多个测试用例来帮助验证这个假设，重复此过程直到改正错误。
	- 调试是非常困难的，这是因为在很大程度上，人类的心理比软件技术与其有更密切的关系。软件Bug的以下特征为开发者进行调试提供了一些线索。
	  > 1. 症状与原因出现的地方可能相隔很远。也就是说，症状可能在程序的一个地方出现，而原因实际上可能在很远的另一个地方。高度耦合的构件加剧了这种情况的发生。
	  > 2. 症状可能在另一个错误被改正时（暂时）消失。
	  > 3. 症状实际上可能是由非错误因素（例如，舍入误差）引起的。
	  > 4. 症状可能是由不易追踪的人为错误引起的。
	  > 5. 症状可能是有计时问题而不是处理问题引起的。
	  > 6. 重新产生完全一样的输入条件是困难的（例如，输入顺序不确定的实时应用系统）。
	  > 7. 症状可能时有时无，这在软件/硬件耦合的嵌入式系统中尤为常见。
	  > 8. 症状可能是由分布运行在不同处理器上的很多任务引起的。
- ## 调试方法
	- 目前，常用的调试方法有以下几种：
	- ### 试探法
		- 调试人员分析错误的症状，猜测问题所在的位置，利用在程序中设置输出语句，分析寄存器、存储器的内容等手段获得错误的线索，一步步地试探和分析出错误所在。这种方法效率很低，适合于结构比较简单的程序。
	- ### 回溯法
		- 调试人员从发现错误症状的位置开始，人工沿着程序的控制流程往回跟踪代码，直到找出错误根源为止。这种方法适合于小型程序，对于大规模程序，由于其需要回溯的路径太多而变得不可操作。
	- ### 对分查找法
		- 这种方法主要用来缩小错误的范围，如果已经知道程序中的变量在若干位置的正确聚会，可以在这些位置上给这些变量以正确值，观察程序运行的输出结果，如果没有发现问题，则说明从赋予变量一个正确值开始到输出结果之间的程序没有错误，问题可能在除此之外的程序中。否则错误就在所考察的这部分程序中，对含有错误的程序段 再使用这种方法，直到把故障范围缩小到比较容易诊断为止。
	- ### 归纳法
		- 归纳法就是从测试所暴露的问题出发，收集所有正确或不正确的数据，分析它们之间的关系，提出假想的错误原因，用这些数据来证明或反驳，从而查出错误所在。
	- ### 演绎法
		- 演绎法根据测试结果，列出所有可能的错误原因；分析已有的数据，排除不可能和彼此矛盾的原因；对其余的原因，选择可能性最大的，利用已有的数据完善该假设，使假设更具体；用假设来解释所有的原始测试结果，如果能解释这一切，则假设得以证实，也就找出错误，否则，要么是假设不完备或不成立，要么有多个错误同时存在，需要重新分析，提出新的假设，直到发现错误为止。