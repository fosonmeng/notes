title:: 软件工程基础知识/软件质量/软件容错技术
alias:: 软件容错技术

- 提高软件质量和可靠性的技术大致可分为两类，
	- > 1. 一类是避开错误，即在开发的过程中不让差错潜入软件的技术；
	  > 2. 另一类是容错技术，即对某些无法避开的差错，使其影响减至最小的技术。
- ## 容错软件的定义
	- 归纳容错软件的定义，有以下4种
		- > 1. 规定功能的软件，在一定程度上对自身错误的作用（软件错误）具有屏蔽能力，则称该软件为具有容错功能的软件，即容错软件。
		  > 2. 规定功能的软件，在一定程度上能从错误状态自动恢复到正常状态，则称该软件为容错软件。
		  > 3. 规定功能的软件，在因错误发生错误时仍然能在一定程度上完成预期的功能，则称该软件为容错软件。
		  > 4. 规定功能的软件，在一定程度上具有容错能力，则称该软件为容错软件。
- ## 容错的一般方法
	- 实现容错的主要手段是冗余。==冗余==是指对于实现系统规定功能是多余的那部分资源，包括硬件、软件、信息和时间。由于加入了这些资源，有可能使系统的可靠性得到较大的提高。通常，冗余技术分为4类。
	- ![image.png](../assets/image_1649031137659_0.png)
	- ### 结构冗余
		- 结构冗余是通常采用的冗余技术，按其工作方法可以分为静态、动态和混合冗余3种。
		- #### 静态冗余
			- 常用的有三模冗余（Triple Module Redundancy，TMR）和多模冗余。静态冗余通过表决和比较来屏蔽系统中出现的错误。如三模冗余是对3个功能相同但由不同的人采用不同的方法开发出来的模块的运行结果通过表决，以多数结果作为系统的最终结果。即如果模块中有一个出错，这个错误能够被其他模块的正确结果“屏蔽”。由于无须对错误进行特别的测试，也不必进行模块的切换就能实现容错，故称之为静态容错。
		- #### 动态冗余
			- 动态冗余的主要方式是多重模块待机储备。当系统测试到某工作模块出现错误时，就用一个备用模块来顶替它并重新运行。这里包括检测、切换和恢复过程，故称其为动态冗余。每当一个出错模块被其他备用模块顶替后，冗余系统相当于进行了一次重构。各备用模块在其待机时可与主模块一同工作，也可不工作。前者称为热备份系统，后者称为冷备份系统。在热备份系统中，备用模块在待机过程中的失效率为0。
		- #### 混合冗余
			- 它兼有静态冗余和动态冗余的长处。
	- ### 信息冗余
		- 为检测或纠正信息在运算或传输中的错误需外加一部分信息，这种现象称为信息冗余。在通信和计算机系统中，信息常以编码的形式出现。采用奇偶码、循环码等冗余码制式就可以发现甚至纠正这些错误。为了达到此目的，这些码（统称为误差校验码）的码长远远大于不考虑误差校正时间的码长，增加了计算量和信道占用的时间。
	- ### 时间冗余
		- 时间冗余是指以重复执行指令或程序来消除瞬时错误带来的影响。对于重复执行不成功的情况，通常的处理办法是发出中断，转入错误处理程序，或对程序进行复算，或重新组合系统，或放弃程序处理。在程序复算中比较常用的方法是程序滚回（Program Rollback）技术。
	- ### 冗余附加技术
		- 冗余附加技术是指为实现上述冗余技术所需的资源和技术，包括程序、指令、数据、存放和调动它们的空间和通道。
		- 在屏蔽硬件错误的容错技术中，冗余附加技术包括：
			- > 1. 关键程序和数据的冗余存储及调用。
			  > 2. 检测、表决、切换、重构、纠错和复算的实现。
		- 在屏蔽软件错误的容错系统中，冗余附加技术的构成包括：
			- > 1. 冗余备份程序的存储及调用。
			  > 2. 实现错误检测和错误恢复的程序。
			  > 3. 实现容错软件所需的固化程序。