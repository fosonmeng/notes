- 有限自动机是一种识别装置的抽象概念，它能准确的识别正规集。有限自动机分为两类：确定的有限自动机和不确定的有限自动机。
- **确定的有限自动机**：
	- Deterministic Finite Automata, DFA。一个确定的有限自动机是个五元组 $$(S, \Sigma, f, s_0, Z)$$ ，其中：
		- S是一个有限集，其每个元素称为一个状态。
		- \Sigma是一个有穷字母表，其每个元素称为一个输入字符。
		- f是 $$S \times \Sigma \to S$$ 上的单值部分映像。f(A,a)=Q 表示当前状态为A、输入为a时，将转换到下一状态Q。称Q为A的一个后继状态。
		- \( s_0 \in S \)，是唯一的一个开始状态。
		- Z是非空的终止状态集合，$$Z \subseteq S$$
	- 一个DFA可以用两种直观的方式表示：状态转换图和状态转换矩阵。**状态转换图**简称为转换图，是一个有向图。DFA中的每个状态对应转换图中的一个节点，DFA中的每个转换函数对应图中的一条有向弧，若转换函数为f(A,a)=Q，则该有向弧从节点A出发，进入节点Q，字符a是弧上的标记。
	- 【例2.1】 已知有DFA M1=({s0, s1, s2, s3}, {a,b}, f, S, {s3})，其中f为：
	  $$
	  f(s_0,a)=s_1, \\
	  f(s_0,b)=s_2, \\
	  f(s_1,a)=s_3, \\
	  f(s_1,b)=s_2, \\
	  f(s_2,a)=s_1, \\
	  f(s_2,b)=s_3, \\
	  f(s_3,a)=s_3
	  $$
	  与DFA M1对应的状态图如图2-7(a)所示，其中，双圈表示的节点是终态节点。状态转换矩阵可以用一个二维数组M表示，矩阵元素M[A,a]的行下标表示状态，列下标表示输入字符，M[A,a]的值是当前状态为A、输入为a时，应转换到的下一状态。与DFA M1对应的状态转换矩阵如图2-7(b)所示。在转换矩阵中，一般以第一行的行下标所对应的状态作为初态，而终态则需要特别指明。
	  ![image-20211202100718577](https://img.mhugh.net/typora/image-20211202100718577.png)
	- 对于\Sigma中的任何字符串\omega，若存在一条从初态节点到某一终止状态节点的路径，且这条路径上所有弧的标记符连接成的字符串等于\omega，则称\omega可由DFA M识别（接受或读出）。若一个DFA M的初态节点同时又是终态节点，则空字\epsilon可由该DFA 识别（或接受）。DFA M所能识别的语言L(M)={w|w是从M的初态到终态的路径上的弧上标记所形成的串}。
	- \Sigma上的一个字符串集合V是正规的，当且仅当存在\Sigma上的一个DFA M，且V=L(M)。
- **不确定的有限自动机**：
	- Nondeterministic Finite Automata, NFA。一个不确定的有限自动机也是一个五元组，它与确定有限自动机的区别如下：
		- f是 $$S \times \Sigma \to 2^S$$ 上的映像。对于S中的一个给定状态及输入符号，返回一个状态的集合。即当前状态的后继状态不一定是唯一确定的。
		- 有向弧上的标记可以是\epsilon
	- 【例2.2】已知有NFA N=({s0,s1,s2,s3}, {a,b}, f, S, {s3})，其中f为：
	  $$
	  f(s_0,a)=s_0,\\
	  f(s_0,a)=s_1,\\
	  f(s_0,b)=s_0,\\
	  f(s_1,b)=s_2,\\
	  f(s_2,b)=s_3
	  $$
	  与NFA M2对应的状态转换图和状态转换矩阵如图2-8所示。
	  ![image-20211202102420866](https://img.mhugh.net/typora/image-20211202102420866.png)
	- 显然，DFA是NFA的特例。实际上，对于每个NFA M，都存在一个DFA N，且L(M)=L(N)。对于任何两个有限自动机M1和M2，如果L(M1)=L(M2)，则称M1和M2是等价的。
- NFA到DFA的转换：
	- 任何一个NFA都可以转换为DFA，下面先定义转换过程中需要的计算。
	- （1）若I是NFA N的状态集合的一个子集，定义e_CLOSURE(I)如下。
	  1. 状态集I的e_CLOSURE(I)是一个状态集。
	  2. 状态集I的所有状态属于e_CLOSURE(I)。
	  3. 若s \in I，那么从s出发经过任意条e弧到达的状态s’都属于e_CLOSURE(I)。
		- 状态集e_CLOSURE(I)称为I的e_闭包。
		- 由以上的定义可知，I的e_闭包就是从状态集I的状态出发，经e所能到达的状态的全体。
		- 假定I是NFA N的状态集的一个子集，a是\Sigma中的一个字符，定义：
		  $$
		  I_a = \epsilon\_CLOSURE(J)
		  $$
		  其中，J是所有那些可从I中的某一状态节点出发经过一条a弧而到达的状态节点的全体。在定义了e_CLOSURE后，就可以用子集法将一个NFA转换为一个DFA。
	- （2）NFA转换为DFA。设 $$NFA\quad N = (S, \Sigma, f, s_0, Z)$$，与之等价的 $$DFA\quad M=(S', \Sigma, f', q_0, Z')$$，用子集法将非确定的有限自动机确定化的算法步骤如下。
		- 1. 求出DFA M的初态q0，即令q0=e_CLOSURE({s0})，此时S’仅含初态q0，并且没有标记。
		- 2. 对于S’中尚未标记的状态qi={si1,si2,…,sim}, sij \in S(j=1,…,m)进行以下处理
			- 标记qi，以说明该状态已经计算过。
			- 对于每个a \in \Sigma，令T=f({si1,si2,…,sim},a)，qj = e_CLOSURE(T)。
			- 若qj尚不在S‘中，则将qj作为一个未加标记的新状态添加到S’，并把状态转换函数f’(qi,a)=qj添加到DFA M中。
		- 3. 重复进行步骤2，直到S’中不再有未标记的状态时为止。
		- 4. 令 $$Z' = \{q|q \in S' 且 q \cap Z \neq \Phi\}$$
	- 【例2.3】已知一个识别正规式ab\*a的非确定有限自动机，其状态转换图如图2-9所示，用子集法将其转换为DFA M。
	  ![image-20211202113857765](https://img.mhugh.net/typora/image-20211202113857765.png)
	  根据e_CLOSURE的定义，可以求出e_CLOSURE({0})={0}，将{0}记为DFA的初态q0。然后根据题中所给的状态转换图以及算法步骤2求解DFA M的各个状态的过程如下。
	  1. e_CLOSURE(q0,a)={1,2,4}，将{1,2,4}记为q1; e_CLOSURE(q0,b)={}，标记q0。
	  2. e_CLOSURE(q1,a)={5}，将{5}记为q2（终态）。
	  3. e_CLOSURE(q1,b)={2,3,4}，将{2,3,4}记为q3，标记q1。
	  4. e_CLOSURE(q2,a)={}，e_CLOSURE(q2,b)={}，标记q2。
	  5. e_CLOSURE(q3,a)={5}，即q2。
	  6. e_CLOSURE(q3,b)={2,3,4}，即q3，标记q3。
	  当S’中不再有未标记的状态时，算法即可终止，所得的DFA M如图2-10所示。
- DFA的最小化：
	- 从NFA转换得到的DFA不一定是最简化的，可以通过等价变换将DFA进行最小化处理。
	- 对于有限自动机中的任何两个状态t和s，若从其中一个状态出发接受输入字符串w，而从另一状态出发不接受w，或者从t和s出发到达不同的接受状态，则称w对状态s和t 是可区分的。若状态s和t不可区分，则称其为可以合并的等价状态。
	- 对图2-10所示的自动机进行化简所得的DFA如图2-11所示。
	  ![image-20211202133224811](https://img.mhugh.net/typora/image-20211202133224811.png)