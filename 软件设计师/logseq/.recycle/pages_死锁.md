- 死锁是指两个以上的进程互相都要求对方已经占有的资源备份过程无法继续运行下去的现象。
- 死锁举例：
- 死锁产生的原因及4个必要条件：
	- 产生死锁的原因为**竞争资源**及**进程推进顺序非法**。当系统中有多个进程所共享的资源，不足以同时满足它们的需求时，引起它们对资源的竞争导致死锁。进程推进顺序非法，进程在运行的过程中，请求和释放资源的顺序不当，导致进程死锁。
	- 产生死锁的4个必要条件是互斥条件、请求保持条件、不可剥夺条件和环路条件。
	  ![](http://www.plantuml.com/plantuml/svg/SoWkIImgoStCIybDBE3Yqb9ujdRtoocDpsUrFDtV-c9PuxEv2v_itiQbfHMly6JNf6VJbY89l5Y__Td6fYVxvpxhGL6te_Tf__gddKkVBjc59FoyR_sBxUkX0WwfG0kXbW80)
	- 进程资源有向图由方框、圆圈和有向边三部分组成。其中方框表示资源，圆圈表示进程。请求资源：○→□，箭头由进程指向资源；分配资源：○←□箭头由资源指向进程。
	  ![image-20210727092939858](https://img.mhugh.net/typora/image-20210727092939858.png)
- 死锁的处理：死锁的处理策略主要有4种：鸵鸟策略（即不理睬策略）、预防策略、避免策略和检测与解除死锁。
  ![](http://www.plantuml.com/plantuml/svg/SoWkIImgoStCIybDBE3Yqb9ujdRtoocDpsUrF5tIydn2s_ErqvvFNSgbfHMly7B7rfSxvaC4tk_fUDgx-ScENf2IkMjWWfqGXOjQNixOXAopSV_JrbuaWMUB6vvjxNwoe-_5yiKlPow1sCdba0fq1TGb0000)
	- 死锁预防：
	  1. **预先静态分配法**。破坏了“不可剥夺条件”。预先分配所需资源，保证不等待资源。该方法的问题是降低了对资源的利用率，降低进程的并发程度；有时可能无法预先知道所需的资源。
	  2. **资源有序分配法**。破坏了“环路条件”。把资源分类按顺序排列，保证不形成环路。该方法存在的问题是限制进程对资源的请求；由于资源的排序占用系统开销。
	- 死锁避免：
	  死锁避免则不那么严格地限制产生死锁的必要条件。最著名的是Dijkstra提出的银行家算法。
	  **银行家算法**对于进程发出的每一个系统可以满足的资源请求命令加以检测，如果发现分配资源后，系统进入不安全状态，则不予分配；若分配资源后系统仍处于安全状态，则实施分配。与死锁预防策略相比提高了资源的利用率，但增加了系统开销。
	  所谓**安全状态**，是指系统能按某种顺序如<P1,P2,…,Pn>来为每个进程分配其所需资源，直至最大需求，使每个进程都可顺序完成。通常称<P1,P2,…,Pn>序列为**安全序列**。若系统不存在这样一个安全序列，则称系统处于**不安全状态**。
	- 死锁检测：对资源的分配不加限制，即允许死锁产生。但系统定时地运行一个死锁检测程序，判断系统是否发生死锁，若检测到有死锁，则设法加以解除。
	- 死锁解除：
	  > 1. 资源剥夺法。从一些进程那里强行剥夺足够数量的资源分配给死锁进程。
	  > 2. 撤销进程法。根据某种策略逐个地撤销死锁进程，直到解除死锁为止。